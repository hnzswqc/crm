/*
 * File: model/view/ModelViewport.js
 *
 * This file was generated by Sencha Architect version 2.2.3.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 4.2.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 4.2.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('Model.view.ModelViewport', {
    extend: 'Ext.container.Viewport',

    layout: {
        type: 'border'
    },

    initComponent: function() {
        var me = this;

        Ext.applyIf(me, {
            items: [
                {
                    xtype: 'toolbar',
                    region: 'north',
                    //height: 40,
                    margin: 2,
                    items: [
                        {
                            xtype: 'button',
                            id: 'Model_reload_btn',
                            icon: 'img/reload.png',
                            hidden:exists('Model_reload_btn'),
                            text: '刷新'
                        },
                        {
                        	xtype: 'tbseparator',
                        	hidden:exists('Model_reload_btn')
                        },
                        {
                            xtype: 'button',
                            id: 'Model_add_btn',
                            icon: 'img/add.png',
                            hidden:exists('Model_add_btn'),
                            disabled:true,
                            text: '添加'
                        },
                        {
                        	xtype: 'tbseparator',
                        	hidden:exists('Model_add_btn')
                        },
                        {
                            xtype: 'button',
                            id: 'Model_upd_btn',
                            icon: 'img/update.png',
                            disabled:true,
                            hidden:exists('Model_upd_btn'),
                            text: '修改'
                        },
                        {
                        	xtype: 'tbseparator',
                        	hidden:exists('Model_upd_btn')
                        },
                        {
                            xtype: 'button',
                            id: 'Model_del_btn',
                            icon: 'img/del.png',
                            disabled:true,
                            hidden:exists('Model_del_btn'),
                            text: '删除'
                        },
                        {
                        	xtype: 'tbseparator',
                        	hidden:exists('Model_del_btn')
                        },
                        {
                            xtype: 'button',
                            id: 'Model_search_form_btn',
                            icon: 'img/search.png',
                            hidden:exists('Model_search_form_btn'),
                            text: '高级查询'
                        }
                    ]
                },
				{
				    xtype: 'treepanel',
				    region: 'west',
				    split: true,
				    id: 'ModelSubTreePanel',
				    margin: '0 0 2 2',
				    width: 200,
				    collapsed: false,
				    collapsible: true,
				    title: '子系统',
				    rootVisible:false,
				    store: new Ext.data.TreeStore({
                        autoLoad:true,
                        proxy: {
                          type: 'ajax',
                          url : 'sub/getSubsystemTreeList.do', //请求url
                          reader: {
                              type: 'json'
                          }
                        },
                        root: {
                          text: '根目录',
                          id: DEFAULT_ROOT_UUID
                        },
                        scope:this
                      }),
				    viewConfig: {
				
				    }
				},
				 {
                    xtype: 'container',
                    region: 'center',
                    layout: {
                        type: 'border'
                    },
                    items: [
                            {
                            xtype: 'gridpanel',
                            region: 'center',
                            id: 'ModelGridPanel',
                            margin: '0 2 2 0',
                            title: '模块管理',
                            store:Ext.create("Model.store.ModelGridPanelStore",{autoLoad:true}),
                            columns: [
                                {
                                    xtype: 'rownumberer',
                                    width: 37,
                                    text: '序号'
                                },
                                {
                                    xtype: 'gridcolumn',
                                    width: 85,
                                    dataIndex: 'modelUuid',
                                    hideable: false,
                                    hidden:true,
                                    text: '模块Id'
                                },
                                {
                                    xtype: 'gridcolumn',
                                    dataIndex: 'modelTitle',
                                    text: '标题'
                                },
                                {
                                    xtype: 'gridcolumn',
                                    width: 63,
                                    dataIndex: 'modelIcon',
                                    text: '图标',
                                    renderer: function (data, metadata, record, rowIndex, columnIndex, store) {
	                                	if(null!=data&&""!=data){
	                            			return '<img src=\''+data+"\'' width=16 height=16 />"
	                            		}else{
	                            			return data;
	                            		}
        		                  	}
                                },
                                {
                                    xtype: 'gridcolumn',
                                    width: 63,
                                    dataIndex: 'modelLogo',
                                    text: 'LOGO',
                                    renderer: function (data, metadata, record, rowIndex, columnIndex, store) {
	                                	if(null!=data&&""!=data){
	                            			return '<img src=\''+data+"\'' width=16 height=16 />"
	                            		}else{
	                            			return data;
	                            		}
        		                  	}
                                },
                                {
                                    xtype: 'gridcolumn',
                                    width: 74,
                                    dataIndex: 'modelState',
                                    text: '状态',
                                    renderer: function (data, metadata, record, rowIndex, columnIndex, store) {
                                		return record.data.modelStateText;
        		                  	}
                                },
                                {
                                    xtype: 'gridcolumn',
                                    dataIndex: 'modelSubsystemUuid',
                                    text: '子系统Id',
                                    hideable: false,
                                    hidden:true
                                },
                                {
                                    xtype: 'gridcolumn',
                                    dataIndex: 'modelSubsystemName',
                                    text: '子系统'
                                },
                                {
                                    xtype: 'gridcolumn',
                                    dataIndex: 'modelNote',
                                    text: '备注信息'
                                },
                                {
                                    xtype: 'gridcolumn',
                                    width: 50,
                                    dataIndex: 'modelOrderby',
                                    text: '排序'
                                },
                                {
                                    xtype: 'datecolumn',
                                    dataIndex: 'createTime',
                                    text: '创建时间',
                                    format: 'Y-m-d H:i:s'
                                }
                            ],
                            dockedItems: [
                                {
                                    xtype: 'pagingtoolbar',
                                    dock: 'bottom',
                                    store:'ModelGridPanelStore',
                                    width: 360,
                                    displayInfo: true
                                }
                            ]
                        },
                        {
                        	xtype: 'form',
                            region: 'north',
                            frame: true,
                            height: 80,
                            id: 'ModelSearchForm',
                            layout: {
                                type: 'column'
                            },
                            hidden:true,
                            bodyPadding: 10,
                            margin: '0 2 2 0',
                            bodyPadding: 10,
                            title: '高级查询',
                            items: [
                                {
                                    xtype: 'textfield',
                                    anchor: '100%',
                                    fieldLabel: '标题',
                                    name:'modelTitle',
                                    id:'modelTitle',
                                    labelWidth: 60
                                },
                                {
                                	 xtype: 'combobox',
                                     margin: '0 0 0 10',
                                     width: 150,
                                     fieldLabel: '状态',
                                     labelWidth: 60,
                                     name: 'modelState',
                                     id:'modelState',
                                     displayField: 'text',
                                     valueField: 'id',
                                     editable: false,
                                     store:Ext.create("Model.store.ModelStateStore",{autoLoad:true})
                                },
                                {
                                    xtype: 'button',
                                    id: 'Model_search_btn',
                                    margin: '0 0 0 10',
                                    icon: 'img/search.png',
                                    hidden:exists('Model_search_btn'),
                                    text: '查询'
                                },
                                {
                                    xtype: 'button',
                                    id: 'Model_reset_btn',
                                    margin: '0 0 0 10',
                                    icon: 'img/reset.png',
                                    hidden:exists('Model_reset_btn'),
                                    text: '重置'
                                }
                            ]
                        }   
                    ]
				 }
            ]
        });

        me.callParent(arguments);
    }

});