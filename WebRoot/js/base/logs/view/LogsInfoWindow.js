/*
 * File: logs/view/LogsInfoWindow.js
 *
 * This file was generated by Sencha Architect version 2.2.3.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 4.2.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 4.2.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('Logs.view.LogsInfoWindow', {
    extend: 'Ext.window.Window',

    id: 'LogsInfoWindow',
    width: 504,
    layout: {
        type: 'fit'
    },
    title: '查看日志',
    modal: true,
    x: 200,
    y: 100,
    initComponent: function() {
        var me = this;

        Ext.applyIf(me, {
        	items: [
                    {
                        xtype: 'container',
                        items: [
                            {
                                xtype: 'form',
                                frame: true,
                                bodyPadding: 10,
                                header: false,
                                title: '查看日志form表单',
                                id:'LogsForm',
                                region: 'center',
                                margin:2,
                                items: [
                                    {
                                        xtype: 'textfield',
                                        anchor: '100%',
                                        id: 'logTitle',
                                        fieldLabel: '标题'
                                    },
                                    {
                                        xtype: 'textfield',
                                        anchor: '100%',
                                        id: 'logType',
                                        fieldLabel: '类别',
                                        listeners: {
                                    		change: {
                                                fn: me.onLogTypeChange,
                                                scope: me
                                            }
                                        }
                                    },
                                    {
                                        xtype: 'textfield',
                                        anchor: '100%',
                                        id: 'logState',
                                        fieldLabel: '执行结果',
                                        listeners: {
                                    		change: {
                                                fn: me.onLogStateChange,
                                                scope: me
                                            }
                                        }
                                    },
                                    {
                                        xtype: 'textfield',
                                        anchor: '100%',
                                        id: 'logUserName',
                                        fieldLabel: '操作人'
                                    },
                                    {
                                        xtype: 'textfield',
                                        anchor: '100%',
                                        id: 'logIp',
                                        fieldLabel: '操作Ip'
                                    },
                                    {
                                        xtype: 'textfield',
                                        anchor: '100%',
                                        id: 'createTime',
                                        fieldLabel: '操作时间'
                                    },
                                    {
                                        xtype: 'textareafield',
                                        anchor: '100%',
                                        height: 133,
                                        id: 'logContent',
                                        fieldLabel: '操作内容'
                                    }
                                ]
                            },
                            {
                                xtype: 'toolbar',
                               // height: 40,
                                margin: 2,
                                items: [
                                    '->',
                                    {
                                        xtype: 'button',
                                        margin: '0 10 0 0',
                                        icon: 'img/close.png',
                                        id:'Logs_window_close_btn',
                                        hidden:exists('Logs_window_close_btn'),
                                        text: '关闭'
                                    }
                                ]
                            }
                        ]
                    }
                ]
            });
        me.callParent(arguments);
    },
    
    onLogTypeChange: function(component,newValue,oldValue,eOpts) {
    		if(newValue==LOG_TYPE_SYSTEM){
    			component.setValue("系统日志");
    		}
    		if(newValue==LOG_TYPE_ERROR){
    			component.setValue("错误日志");
    		}
    		if(newValue==LOG_TYPE_OPERATE){
    			component.setValue("操作日志");
    		}
    },
    onLogStateChange: function(component,newValue,oldValue,eOpts) {
		if(newValue==LOG_STATE_SUCCESS){
			component.setValue("执行成功");
		}
		if(newValue==LOG_STATE_ERROR){
			component.setValue("执行失败");
		}
}
});