/*
 * File: workLoadChart/view/MyViewport.js
 *
 * This file was generated by Sencha Architect version 2.2.3.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 4.2.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 4.2.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('WorkLoadChart.view.MyViewport', {
    extend: 'Ext.container.Viewport',

    layout: {
        type: 'fit'
    },

    initComponent: function() {
        var me = this;

        Ext.applyIf(me, {
            items: [
                {
                    xtype: 'container',
                    width: 150,
                    layout: {
                        type: 'border'
                    },
                    items: [
                        {
                            xtype: 'toolbar',
                            region: 'north',
                            margin: 2,
                            items: [
                                {
                                    xtype: 'button',
                                    icon: 'img/reload.png',
                                    id:'RefreshBtn',
                                    hidden:exists('RefreshBtn'),
                                    text: '刷新'
                                },
                                {
                                	xtype: 'tbseparator',
                                	hidden:exists('RefreshBtn')
                                },
                                {
                                    xtype: 'button',
                                    id: 'YearSearchBtn',
                                    icon: 'img/search.png',
                                    hidden:exists('YearSearchBtn'),
                                    text: '按年查询'
                                },
                                {
                                	xtype: 'tbseparator',
                                	hidden:exists('YearSearchBtn')
                                },
                                {
                                    xtype: 'button',
                                    id: 'MonthSearchBtn',
                                    icon: 'img/search.png',
                                    hidden:exists('MonthSearchBtn'),
                                    text: '按月查询'
                                },
                                {
                                	xtype: 'tbseparator',
                                	hidden:exists('MonthSearchBtn')
                                },
                                {
                                    xtype: 'button',
                                    id: 'DateSearchBtn',
                                    icon: 'img/search.png',
                                    hidden:exists('DateSearchBtn'),
                                    text: '按日查询'
                                },
                                {
                                	xtype: 'tbseparator',
                                	hidden:exists('DateSearchBtn')
                                },
                                {
                                    xtype: 'button',
                                    id: 'NormalSearchBtn',
                                    icon: 'img/search.png',
                                    hidden:exists('RefreshBtn'),
                                    text: '自定义查询'
                                },
                                {
                                    xtype: 'button',
                                    icon: 'img/excel.png',
                                    text: '导出'
                                }
                            ]
                        },
                        {
                            xtype: 'form',
                            region: 'north',
                            split: false,
                            frame: true,
                            hidden: true,
                            id: 'YearSearchForm',
                            margin: '0 2 2 2',
                            layout: {
                                type: 'column'
                            },
                            title: '按年查询',
                            items: [
                                {
                                    xtype: 'combobox',
                                    fieldLabel: '年度',
                                    name: 'startDate',
                                    id:'startDate_year',
                                    width: 150,
                                    valueField: 'loggingDate',
                                    displayField: 'loggingDate',
                                    store:Ext.create("WorkLoadChart.store.YearStore",{autoLoad:true}),
                                    editable: false, //启用编辑，主要是为了清空当前的选择项
                                    labelWidth: 50
                                },
                                {
                                    xtype: 'combobox',
                                    margin: '0 0 0 5',
                                    fieldLabel: '排序',
                                    width: 150,
                                    store:'OrderStore',
                                    valueField: 'data',
                                    displayField: 'name',
                                    name:'orderby',
                                    id:'orderby_year',
                                    editable: false, //启用编辑，主要是为了清空当前的选择项
                                    labelWidth: 50
                                },
                                {
                                    xtype: 'combobox',
                                    margin: '0 0 0 5',
                                    width: 150,
                                    fieldLabel: '数量',
                                    store:'TopNumStore',
                                    valueField: 'data',
                                    displayField: 'name',
                                    name:'topNum',
                                    id:'topNum_year',
                                    editable:true,
                                    labelWidth: 50,
                                    validator: function(value) {
                                		if(value=="")return true;
                                		var reg = /^\d+(?=\d+$|$)/;
                                		if(reg.test(value))return true;
                                		return '只能输入数字';
                                	}
                                },
                                {
                                	 xtype: 'hiddenfield',
                                     name:'type',
                                     value:'year'
                                }
                            ]
                        },
                        {
                            xtype: 'form',
                            region: 'north',
                            split: false,
                            frame: true,
                            hidden: true,
                            id: 'MonthSearchForm',
                            margin: '0 2 2 2',
                            layout: {
                                type: 'column'
                            },
                            title: '按月查询',
                            items: [
                                {
                                    xtype: 'textfield',
                                    fieldLabel: '月份',
                                    labelWidth: 50,
                                    inputType: 'month',
                                    name:'startDate',
                                    id:'startDate_month'
                                },
                                {
                                    xtype: 'combobox',
                                    margin: '0 0 0 5',
                                    fieldLabel: '排序',
                                    width: 150,
                                    store:'OrderStore',
                                    valueField: 'data',
                                    displayField: 'name',
                                    name:'orderby',
                                    id:'orderby_month',
                                    editable: false, //启用编辑，主要是为了清空当前的选择项
                                    labelWidth: 50
                                },
                                {
                                    xtype: 'combobox',
                                    margin: '0 0 0 5',
                                    width: 150,
                                    fieldLabel: '数量',
                                    store:'TopNumStore',
                                    valueField: 'data',
                                    displayField: 'name',
                                    name:'topNum',
                                    id:'topNum_month',
                                    editable:true,
                                    labelWidth: 50,
                                    validator: function(value) {
                                		if(value=="")return true;
                                		var reg = /^\d+(?=\d+$|$)/;
                                		if(reg.test(value))return true;
                                		return '只能输入数字';
                                	}
                                },
                                {
                                	 xtype: 'hiddenfield',
                                     name:'type',
                                     value:'month'
                                }
                            ]
                        },
                        {
                            xtype: 'form',
                            region: 'north',
                            split: false,
                            frame: true,
                            hidden: true,
                            id: 'DateSearchForm',
                            margin: '0 2 2 2',
                            layout: {
                                type: 'column'
                            },
                            title: '按日查询',
                            items: [
                                {
                                    xtype: 'datefield',
                                    fieldLabel: '日期',
                                    name:'startDate',
                                    id:'startDate_date',
                                    format:'Y-m-d',
                                    labelWidth: 50
                                },
                                {
                                    xtype: 'combobox',
                                    margin: '0 0 0 5',
                                    fieldLabel: '排序',
                                    width: 150,
                                    store:'OrderStore',
                                    valueField: 'data',
                                    displayField: 'name',
                                    name:'orderby',
                                    id:'orderby_date',
                                    editable: false, //启用编辑，主要是为了清空当前的选择项
                                    labelWidth: 50
                                },
                                {
                                    xtype: 'combobox',
                                    margin: '0 0 0 5',
                                    width: 150,
                                    fieldLabel: '数量',
                                    store:'TopNumStore',
                                    valueField: 'data',
                                    displayField: 'name',
                                    name:'topNum',
                                    id:'topNum_date',
                                    editable:true,
                                    labelWidth: 50,
                                    validator: function(value) {
                                		if(value=="")return true;
                                		var reg = /^\d+(?=\d+$|$)/;
                                		if(reg.test(value))return true;
                                		return '只能输入数字';
                                	}
                                },
                                {
                               	 xtype: 'hiddenfield',
                                 name:'type',
                                 value:'date'
                               }
                            ]
                        },
                        {
                            xtype: 'form',
                            region: 'north',
                            split: false,
                            frame: true,
                            hidden: true,
                            id: 'NormalSearchForm',
                            margin: '0 2 2 2',
                            layout: {
                                type: 'column'
                            },
                            title: '自定义查询',
                            items: [
                                {
                                    xtype: 'datefield',
                                    fieldLabel: '开始日期',
                                    labelWidth: 60,
                                    name:'startDate',
                                    id:'startDate_normal',
                                    format:'Y-m-d'
                                },
                                {
                                    xtype: 'datefield',
                                    margin: '0 0 0 5',
                                    fieldLabel: '结束日期',
                                    labelWidth: 60,
                                    id:'endDate_normal',
                                    name:'endDate',
                                    format:'Y-m-d'
                                },
                                {
                                    xtype: 'combobox',
                                    margin: '0 0 0 5',
                                    fieldLabel: '排序',
                                    width: 150,
                                    store:'OrderStore',
                                    valueField: 'data',
                                    displayField: 'name',
                                    name:'orderby',
                                    id:'orderby_normal',
                                    editable: false, //启用编辑，主要是为了清空当前的选择项
                                    labelWidth: 50
                                },
                                {
                                    xtype: 'combobox',
                                    margin: '0 0 0 5',
                                    width: 150,
                                    fieldLabel: '数量',
                                    store:'TopNumStore',
                                    valueField: 'data',
                                    displayField: 'name',
                                    name:'topNum',
                                    id:'topNum_normal',
                                    editable:true,
                                    labelWidth: 50,
                                    validator: function(value) {
                                		if(value=="")return true;
                                		var reg = /^\d+(?=\d+$|$)/;
                                		if(reg.test(value))return true;
                                		return '只能输入数字';
                                	}
                                },
                                {
                                	xtype: 'hiddenfield',
                                    name:'type',
                                    value:'normal'
                               }
                            ]
                        },
                        {
                            xtype: 'panel',
                            region: 'center',
                            margin: '0 0 2 2',
                            layout: {
                                align: 'stretch',
                                type: 'vbox'
                            },
                            title: '工作量排行',
                            header:false,
                            items: [
                                {
                                    xtype: 'container',
                                    flex: 1,
                                    layout: {
                                        align: 'stretch',
                                        type: 'hbox'
                                    },
                                    items: [
                                        {
                                            xtype: 'panel',
                                            flex: 1,
                                            margin: 2,
                                            autoScroll: true,
                                            title: '制管',
                                            layout: {
						                        type: 'border'
						                    },
                                            tools: [
                                                {
                                                    xtype: 'tool',
                                                    type: 'refresh',
                                                    handler: function(event, toolEl, owner, tool) {
                                                		Ext.getCmp("ZgListChart").store.removeAll();
                                                		Ext.getCmp("ZgListChart").store.load()
                                                	}
                                                },
                                                {
                                                    xtype: 'tool',
                                                    type: 'save',
                                                    handler: function(event, toolEl, owner, tool) {
                                                		Ext.getCmp("ZgListChart").store.removeAll();
                                                		Ext.getCmp("ZgListChart").store.load()
                                                	}
                                                }
                                            ],
                                            items: [
                                                {
                                                    xtype: 'chart',
                                                    animate: true,
                                                    store: Ext.create("WorkLoadChart.store.ZgChartStore",{autoLoad:true}),
				                                    id:'ZgListChart',
                                                    axes: [
                                                        {
                                                            type: 'Category',
                                                            fields: [
                                                                'x'
                                                            ],
                                                            position: 'left',
                                                        	title: '员工',
				                                            fields: ['labelField']
                                                        },
                                                        {
                                                            type: 'Numeric',
                                                            fields: [
                                                                'y'
                                                            ],
                                                            position: 'bottom',
                                                            title: '工作量（吨）',
                                                            grid:true,
    				                                        fields: ['dataField']
                                                        }
                                                    ],
                                                    series: [
                                                        {
                                                            type: 'bar',
                                                            label: {
                                                                display: 'dataField',
                                                                field: 'dataField',
                                                                color: '#333',
                                                                'text-anchor': 'middle'
                                                            },
                                                            highlight : true,
                                                            tips: {  
				                                                trackMouse: true,  
				                                                width: 140,  
				                                                height: 25,  
				                                                renderer: function (storeItem, item) {  
				                                                    this.setTitle(storeItem.get('labelField') + ':' + storeItem.get('dataField')+'吨');  
				                                                }  
				                                            },  
                                                            axis: 'bottom',
                                                            xField: 'labelField',
				                                            yField: 'dataField',
				                                            //此渲染器的存在能够使每条柱子的颜色，与上方声明的颜色数组相同         
				                                            renderer: function(sprite, storeItem, barAttr, i, store) {    
				                                            	//barAttr.fill ="#B2CEF2";
				                                            	return barAttr;           
				                                            },
				                                            listeners : {  
				                                                itemclick : function(o) { 
				                                            		//点击事件
				                                                }
				                                            }

                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            xtype: 'panel',
                                            flex: 1,
                                            margin: '2 2 2 0',
                                            autoScroll: true,
                                            title: '包装',
                                            layout: {
						                        type: 'border'
						                    },
                                            tools: [
                                                {
                                                    xtype: 'tool',
                                                    type: 'refresh',
                                                    handler: function(event, toolEl, owner, tool) {
                                                		Ext.getCmp("BzListChart").store.removeAll();
                                                		Ext.getCmp("BzListChart").store.load()
                                                	}
                                                },
                                                {
                                                    xtype: 'tool',
                                                    type: 'save',
                                                    handler: function(event, toolEl, owner, tool) {
                                                		Ext.getCmp("BzListChart").store.removeAll();
                                                		Ext.getCmp("BzListChart").store.load()
                                                	}
                                                }
                                            ],
                                            items: [
                                                    {
                                                        xtype: 'chart',
                                                        animate: true,
                                                        store: Ext.create("WorkLoadChart.store.BzChartStore",{autoLoad:true}),
    				                                    id:'BzListChart',
                                                        axes: [
                                                            {
                                                                type: 'Category',
                                                                fields: [
                                                                    'x'
                                                                ],
                                                                position: 'left',
                                                            	title: '员工',
    				                                            fields: ['labelField']
                                                            },
                                                            {
                                                                type: 'Numeric',
                                                                fields: [
                                                                    'y'
                                                                ],
                                                                position: 'bottom',
                                                                title: '工作量（吨）',
                                                                grid:true,
        				                                        fields: ['dataField']
                                                            }
                                                        ],
                                                        series: [
                                                            {
                                                                type: 'bar',
                                                                label: {
                                                                    display: 'dataField',
                                                                    field: 'dataField',
                                                                    color: '#333',
                                                                    'text-anchor': 'middle'
                                                                },
                                                                highlight : true,
                                                                tips: {  
    				                                                trackMouse: true,  
    				                                                width: 140,  
    				                                                height: 25,  
    				                                                renderer: function (storeItem, item) {  
    				                                                    this.setTitle(storeItem.get('labelField') + ':' + storeItem.get('dataField')+'吨');  
    				                                                }  
    				                                            },  
                                                                axis: 'bottom',
                                                                xField: 'labelField',
    				                                            yField: 'dataField',
    				                                            // 此渲染器的存在能够使每条柱子的颜色，与上方声明的颜色数组相同
    				                                            renderer: function(sprite, storeItem, barAttr, i, store) {    
    				                                            	// barAttr.fill
																	// ="#B2CEF2";
    				                                            	return barAttr;           
    				                                            },
    				                                            listeners : {  
    				                                                itemclick : function(o) { 
    				                                            		//点击事件
    				                                                }
    				                                            }
                                                            }
                                                        ]
                                                    }
                                                ]
                                        }
                                    ]
                                },
                                {
                                    xtype: 'container',
                                    flex: 1,
                                    layout: {
                                        align: 'stretch',
                                        type: 'hbox'
                                    },
                                    items: [
                                        {
                                            xtype: 'panel',
                                            flex: 1,
                                            margin: '0 2 2 2',
                                            autoScroll: true,
                                            title: '抛光',
                                            layout: {
						                        type: 'border'
						                    },
                                            tools: [
                                                {
                                                    xtype: 'tool',
                                                    type: 'refresh',
                                                    handler: function(event, toolEl, owner, tool) {
                                                		Ext.getCmp("PgListChart").store.removeAll();
                                                		Ext.getCmp("PgListChart").store.load()
                                                	}
                                                },
                                                {
                                                    xtype: 'tool',
                                                    type: 'save',
                                                    handler: function(event, toolEl, owner, tool) {
                                                		Ext.getCmp("PgListChart").store.removeAll();
                                                		Ext.getCmp("PgListChart").store.load()
                                                	}
                                                }
                                            ],
                                            items: [
                                                    {
                                                        xtype: 'chart',
                                                        animate: true,
                                                        store: Ext.create("WorkLoadChart.store.PgChartStore",{autoLoad:true}),
    				                                    id:'PgListChart',
                                                        axes: [
                                                            {
                                                                type: 'Category',
                                                                fields: [
                                                                    'x'
                                                                ],
                                                                position: 'left',
                                                            	title: '员工',
    				                                            fields: ['labelField']
                                                            },
                                                            {
                                                                type: 'Numeric',
                                                                fields: [
                                                                    'y'
                                                                ],
                                                                position: 'bottom',
                                                                title: '工作量（吨）',
                                                                grid:true,
        				                                        fields: ['dataField']
                                                            }
                                                        ],
                                                        series: [
                                                            {
                                                                type: 'bar',
                                                                highlight : true,
                                                                label: {
                                                                    display: 'dataField',
                                                                    field: 'dataField',
                                                                    color: '#333',
                                                                    'text-anchor': 'middle'
                                                                },
                                                                tips: {  
    				                                                trackMouse: true,  
    				                                                width: 140,  
    				                                                height: 25,  
    				                                                renderer: function (storeItem, item) {  
    				                                                    this.setTitle(storeItem.get('labelField') + ':' + storeItem.get('dataField')+'吨');  
    				                                                }  
    				                                            },  
                                                                axis: 'bottom',
                                                                xField: 'labelField',
    				                                            yField: 'dataField',
    				                                            // 此渲染器的存在能够使每条柱子的颜色，与上方声明的颜色数组相同
    				                                            renderer: function(sprite, storeItem, barAttr, i, store) {    
    				                                            	// barAttr.fill
																	// ="#B2CEF2";
    				                                            	return barAttr;           
    				                                            },
    				                                            listeners : {  
    				                                                itemclick : function(o) { 
    				                                            		//点击事件
    				                                                }
    				                                            }
                                                            }
                                                        ]
                                                    }
                                                ]
                                        },
                                        {
                                            xtype: 'panel',
                                            flex: 1,
                                            margin: '0 2 2 0',
                                            autoScroll: true,
                                            title: '推管',
                                            layout: {
						                        type: 'border'
						                    },
                                            tools: [
                                                {
                                                    xtype: 'tool',
                                                    type: 'refresh',
                                                    handler: function(event, toolEl, owner, tool) {
                                                		Ext.getCmp("TgListChart").store.removeAll();
                                                		Ext.getCmp("TgListChart").store.load()
                                                	}
                                                },
                                                {
                                                    xtype: 'tool',
                                                    type: 'save',
                                                    handler: function(event, toolEl, owner, tool) {
                                                		Ext.getCmp("TgListChart").store.removeAll();
                                                		Ext.getCmp("TgListChart").store.load()
                                                	}
                                                }
                                            ],
                                            items: [
                                                    {
                                                        xtype: 'chart',
                                                        animate: true,
                                                        store: Ext.create("WorkLoadChart.store.TgChartStore",{autoLoad:true}),
    				                                    id:'TgListChart',
                                                        axes: [
                                                            {
                                                                type: 'Category',
                                                                fields: [
                                                                    'x'
                                                                ],
                                                                position: 'left',
                                                            	title: '员工',
    				                                            fields: ['labelField']
                                                            },
                                                            {
                                                                type: 'Numeric',
                                                                fields: [
                                                                    'y'
                                                                ],
                                                                position: 'bottom',
                                                                title: '工作量（吨）',
                                                                grid:true,
        				                                        fields: ['dataField']
        				                                        
                                                            }
                                                        ],
                                                        series: [
                                                            {
                                                                type: 'bar',
                                                                label: {
                                                                    display: 'dataField',
                                                                    field: 'dataField',
                                                                    color: '#333',
                                                                    'text-anchor': 'middle'
                                                                },
                                                                highlight : true,
                                                                tips: {  
    				                                                trackMouse: true,  
    				                                                width: 140,  
    				                                                height: 25,  
    				                                                renderer: function (storeItem, item) {  
    				                                                    this.setTitle(storeItem.get('labelField') + ':' + storeItem.get('dataField')+'吨');  
    				                                                }  
    				                                            },  
                                                                axis: 'bottom',
                                                                xField: 'labelField',
    				                                            yField: 'dataField',
    				                                            // 此渲染器的存在能够使每条柱子的颜色，与上方声明的颜色数组相同
    				                                            renderer: function(sprite, storeItem, barAttr, i, store) {    
    				                                            	// barAttr.fill
																	// ="#B2CEF2";
    				                                            	return barAttr;           
    				                                            },
    				                                            listeners : {  
    				                                                itemclick : function(o) { 
    				                                            		//点击事件
    				                                                }
    				                                            }
                                                            }
                                                        ]
                                                    }
                                                ]
                                            
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        });

        me.callParent(arguments);
    }

});